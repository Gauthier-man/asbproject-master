{% extends 'base.html.twig' %}

{% block title %}Mon espace{% endblock %}

{% block body %}
    <div class="container mt-5">
        <h2>Bonjour {{ app.user.prenom }} {{ app.user.nom }},</h2>

        {% if devis is empty %}
            <p>Vous n'avez pas encore de devis en cours.</p>
        {% else %}
            {% for d in devis %}
                <div class="card mt-4 p-4 shadow-sm">
                    <h4 class="mb-3">Votre demande de devis a bien été reçue</h4>
                    <p>Merci d’avoir soumis votre projet. Notre équipe va étudier votre demande et reviendra vers vous rapidement.</p>

                    <hr>

                    <h5>Détails de votre projet</h5>
                    <ul class="list-unstyled">
                        <li><strong>Type de projet :</strong> {{ d.typeProjet }}</li>
                        <li><strong>Localisation :</strong> {{ d.localisation }}</li>
                        <li><strong>Surface approximative :</strong> {{ d.surface ?? 'Non précisé' }}</li>
                        <li><strong>Délai souhaité :</strong> {{ d.delai ?? 'Non précisé' }}</li>
                        <li><strong>Description :</strong> {{ d.description }}</li>
                    </ul>

                    <hr>

                    <h5>Statut de votre demande</h5>
                    <p><span class="text-primary">En cours d’étude</span></p>
                    <small class="text-muted">Vous serez informé dès que votre devis personnalisé sera prêt.</small>
                </div>
            {% endfor %}
        {% endif %}
    </div>
{% endblock %}
