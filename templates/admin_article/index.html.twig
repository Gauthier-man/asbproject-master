{# templates/admin_article/index.html.twig #}
{% extends 'base.html.twig' %}

{% block body %}
	<div class="container mt-5">
		<h2 class="mb-4">Articles du blog</h2>
		<a href="{{ path('admin_article_new') }}" class="btn btn-success mb-3">Ajouter un article</a>
		<div class="row">
			{% for article in articles %}
				<div class="col-md-4">
					<div class="card mb-3">
						<img src="{{ asset('uploads/articles/' ~ article.imagePath) }}" class="card-img-top" alt="{{ article.title }}">
						<div class="card-body">
							<h5 class="card-title">{{ article.title }}</h5>
							<p class="card-text">{{ article.createdAt|date('d/m/Y') }}</p>
							<a href="{{ path('admin_article_delete', {id: article.id}) }}" class="btn btn-danger btn-sm" onclick="return confirm('Supprimer cet article ?');">Supprimer</a>
						</div>
					</div>
				</div>
			{% else %}
				<p>Aucun article publi√© pour le moment.</p>
			{% endfor %}
		</div>
	</div>
{% endblock %}
